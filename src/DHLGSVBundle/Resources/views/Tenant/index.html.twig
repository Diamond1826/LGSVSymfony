{% extends 'DHLGSVBundle::base.html.twig' %}
{% block body %}
	<div class="row">			
		<div class="col-md-12">
			<div class="panel panel-default">
				<div class="panel-heading">Suche Mieter</div>
					<div class="panel-body">
					<div class="input-group">
						<input type="text" class="form-control">
						<div class="input-group-btn">
							<button class="btn btn-default" type="button">Suchen</button>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div class="row">			
		<div class="col-md-12">
			<div class="panel panel-default">
				<div class="panel-heading"><span class="pHeadText">Mieter</span><br><i>Klicke auf einen Eintrag um alle Wohnungen des gewählten Mieter's einzusehen</i></div>
				{% if tenants is empty %}
					<div class="panel-body">
						<p>Noch keine Mieter vorhanden</p>
					</div>
				{% else %}
				<div class="panel-body">
					<table class="table table-responsive table-hover">
						<thead>
							<tr>
								<th>Nachname</th>
								<th>Vorname</th>
								<th>Strasse</th>
								<th>PLZ</th>
								<th>Ort</th>
								<th>E-Mail</th>
								<th>Telefon</th>
							</tr>
						</thead>
						<tbody>
						{% for tenant in tenants %}					 
							<tr class="clickable-row" data-href="{{ path('view_allocations', {'tenant': tenant.id}) }}">
								<td>{{ tenant.nachname }}</td>
								<td>{{ tenant.vorname }}</td>
								<td>{{ tenant.strasse }}</td>
								<td>{{ tenant.plz}}</td>
								<td>{{ tenant.ort}}</td>
								<td>{{ tenant.email}}</td>
								<td>{{ tenant.telefon}}</td>
								<td>
									<a href="{{ path('edit_tenant', {'tenant': tenant.id}) }}"><i class="glyphicon glyphicon-pencil"></i></a>
								</td>
							</tr>
						{% endfor %}
					</tbody>
					</table>
				</div>
				{% endif %}
			</div>
		</div>
	</div>
	<div class="row">			
		<div class="col-md-12">
			<div class="panel panel-default">
				<div class="panel-heading">Suche Liegenschaft</div>
					<div class="panel-body">
					<div class="input-group">
						<input type="text" class="form-control">
						<div class="input-group-btn">
							<button class="btn btn-default" type="button">Suchen</button>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div class="row">			
		<div class="col-md-12">
			<div class="panel panel-default">
				<div class="panel-heading"><span class="pHeadText">Liegenschaften</span><br><i>Klicke auf einen Eintrag um alle Wohnungen und Mieter des gewählten Hauses einzusehen</i></div>
				{% if houses is empty %}
					<div class="panel-body">
						<p>Noch keine Liegenschaften vorhanden</p>
					</div>
				{% else %}
				<div class="panel-body">
					<table class="table table-responsive table-hover">
						<thead>
							<tr>
								<th>Name</th>
								<th>Strasse</th>
								<th>PLZ</th>
								<th>Ort</th>
							</tr>
						</thead>
						<tbody>
						{% for house in houses %}					 
							<tr class="clickable-row" data-href="{{ path('view_apartments', {'house': house.id}) }}">
								<td>{{ house.name }}</td>
								<td>{{ house.strasse }}</td>
								<td>{{ house.plz}}</td>
								<td>{{ house.ort}}</td>
								<td>
									<a href="{{ path('edit_house', {'house': house.id}) }}"><i class="glyphicon glyphicon-pencil"></i></a>
								</td>
							</tr>
						{% endfor %}
					</tbody>
					</table>
				</div>
				{% endif %}
			</div>
		</div>
	</div>
	<div class="row">			
		<div class="col-md-12">
			<div class="panel panel-default">
				<div class="panel-heading">Suche Wohnung</div>
					<div class="panel-body">
					<div class="input-group">
						<input type="text" class="form-control">
						<div class="input-group-btn">
							<button class="btn btn-default" type="button">Suchen</button>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div class="row">			
		<div class="col-md-12">
			<div class="panel panel-default">
				<div class="panel-heading"><span class="pHeadText">Wohnungen</span><br><i>Klicke auf einen Eintrag um alle Mieter der gewählten Wohnung einzusehen</i></div>
				{% if apartments is empty %}
					<div class="panel-body">
						<p>Noch keine Wohnung vorhanden</p>
					</div>
				{% else %}
				<div class="panel-body">
					<table class="table table-responsive table-hover">
						<thead>
							<tr>
								<th>Liegenschaft ID</th>
								<th>Name</th>
								<th>Miete</th>
							</tr>
						</thead>
						<tbody>
						{% for apartment in apartments %}					 
							<tr class="clickable-row" data-href="{{ path('view_tenants', {'apartment': apartment.id}) }}">
								<td>{{ apartment.house.strasse }}</td>
								<td>{{ apartment.name }}</td>
								<td>{{ apartment.miete}} CHF</td>
								<td>
									<a href="{{ path('edit_apartment', {'apartment': apartment.id}) }}"><i class="glyphicon glyphicon-pencil"></i></a>
								</td>								
							</tr>
						{% endfor %}
					</tbody>
					</table>
				</div>
				{% endif %}
			</div>
		</div>
	</div>
	<div class="row">			
		<div class="col-md-12">
			<div class="panel panel-default">
				<div class="panel-heading">Suche Zuweisung</div>
					<div class="panel-body">
					<div class="input-group">
						<input type="text" class="form-control">
						<div class="input-group-btn">
							<button class="btn btn-default" type="button">Suchen</button>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div class="row">			
		<div class="col-md-12">
			<div class="panel panel-default">
				<div class="panel-heading"><span class="pHeadText">Zuweisungen</span></div>
				{% if allocations is empty %}
					<div class="panel-body">
						<p>Noch keine Zuweisungen vorhanden</p>
					</div>
				{% else %}
				<div class="panel-body">
					<table class="table table-responsive">
						<thead>
							<tr>
								<th>Wohnungs ID</th>
								<th>Wohnungsname</th>
								<th>Miete</th>
								<th>Mieter ID</th>
								<th>Nachname</th>
								<th>Vorname</th>
								<th>Telefon</th>
							</tr>
						</thead>
						<tbody>
						{% for allocation in allocations %}					 
							<tr>
								<td>{{ allocation.apartment.id }}</td>
								<td>{{ allocation.apartment.name }}</td>
								<td>{{ allocation.apartment.miete}} CHF</td>
								<td>{{ allocation.tenant.id }}</td>
								<td>{{ allocation.tenant.nachname }}</td>
								<td>{{ allocation.tenant.vorname}}</td>
								<td>{{ allocation.tenant.telefon}}</td>	
								<td>
									<a href="{{ path('edit_allocation', {'allocation': allocation.id}) }}"><i class="glyphicon glyphicon-pencil"></i></a>
								</td>							
							</tr>
						{% endfor %}
					</tbody>
					</table>
				</div>
				{% endif %}
			</div>
		</div>
	</div>
{% endblock %}